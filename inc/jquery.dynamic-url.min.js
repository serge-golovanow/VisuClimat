/**
 * jQuery Dynamic URL Plugin
 * version: 1.0 (2013-01-15)
 *
 * This document is licensed as free software under the terms of the
 * MIT License: http://www.opensource.org/licenses/mit-license.php
 *
 * Toni Almeida wrote this plugin, which proclaims:
 * "NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK."
 *
 * Copyrighted 2013 by Toni Almeida, promatik.
 */
(function(e){function i(t,n){if(n==undefined||n)try{window.history.pushState(t,"",s())}catch(r){}return e.getURL()}function s(){return"/"+n.filter(function(e){return e}).join("/")+u(r)}function o(e){var t,n=new Array,r=0,i=e.substring(1).split("&");for(r;r<i.length;r++){t=i[r].split(/=(.+)?/);n[t[0]]=t[1]}return n}function u(){var e,t="?";for(e in r){t+=e+"="+r[e]+"&"}return t.slice(0,-1)}function a(e){var t=document.createElement("a");t.href=e;return t}function f(e){var t=new Array;for(var n=0;n<e.length;n++){if(e[n])t.push(e[n])}return t}var t,n,r;e.loadURL=function(e){var i=a(e?e:window.location.href);n=f(i.pathname.split("/"));r=i.search!=""?o(i.search):new Array;t=i.protocol+"//"+i.host};e.loadURL();e.getPath=function(e){return e==undefined?n:n[e]};e.pushPath=function(e,t,r){n[e]=t;return i(r)};e.popPath=function(e,t){while(n.length>e)n.pop();return i(undefined,t)};e.getVars=function(){return r};e.setVars=function(e,t,n){r=e;i(t,n);return u(r)};e.pushVar=function(e,t,n,s){r[e]=t;i(n,s);return u(r)};e.popVar=function(e,t){delete r[e];i(undefined,t);return u(r)};e.clearVars=function(t){r=new Array;i(undefined,t);return e.getURL()};e.getURL=function(){return t+s()};e.onPopState=function(e){window.onpopstate=e}})(jQuery)